# 计算机网络体系结构
#计算机网络 
## [1]  概要 
计算机网络主要内容：
1. 计算机网络的**基本概念、基本原理和基本方法**。
2. 计算机网络的**体系结构**和典型**网络协议**，了解典型**网络设备**的组成和特点，理解典型网络设备的工作原理。
3. 运用计算机网络的基本概念、基本原理和基本方法进行**网络系统的分析**、**设计和应用**。

## [2]  基本概念、功能：
计算机网络已经由一种通信基础设施发展呈一种重要的信息服务设施。
计算机网络已经像水、电、煤气这些基础设施一样，成为我们生活中不可或缺的一部分。
![[01 最基础的互联网.png]]
## 1. 基本概念:
计算机网络是一个将分散的、具有独立功能的**计算机系统**，通过通信设备与线路连接起来，由功能完善的软件实现资源共享和信息传递的系统。是一个**互连**的、**自治**的计算机集合。
![[02 互联网 互联互通.png]]
“三网融合”——有线电视网络、电信网络、计算机网络相互融合
“四网融合”——有线电视网络、电信网络、计算机网络、电网相互融合

计算机网络**功能**：

>1. **数据通信**
>2. **资源共享**，同一个计算机网络上的其他计算机可使用某台计算机的计算机资源的行为，可共享**硬件、软件、数据**
>3. **分布式处理**，多台计算机各自承担同一工作任务的不同部分，例如Hadoop平台
>4. **提高可靠性**
>5. **负载均衡**
![[03 互联网的圈层.png]]
## 2. 发展阶段：
![[04 互联网的发展阶段.png]]
**阶段Ⅰ**.美国国防部高级研究计划局（ARPA）设计一个分散的指挥系统。
ARPAnrt 阿帕网，使用无线分组交换网和卫星通信网

1983年阿帕网接受因特网 Internet 的TCP/IP，选定Internet为主要的计算机通信系统。
网络把许多计算机连接在一起，而互联网则把许多网络连接在一起，因特网是世界上最大的互联网。

**阶段Ⅱ**.三级结构

1985年起，美国国家科学基金会NSF围绕6个大型计算机中心建设计算机网络，即国家科学基金网NSFNET。

**阶段Ⅲ**.多层次ISP结构
ISP：因特网服务提供者/因特网服务提供商，是一个向广大用户综合提供互联网接入业务、信息业务、和增值业务的公司，如中国电信、中国联动、中国移动等。分为主干ISP、地区ISP和本地ISP。
![[05 ISP.png]]
## [3]  组成与分类：
1. **组成部分**：硬件、软件、协议
2. **工作方式**：边缘方式（C/S方式或者B/S方式、P2P方式）、核心部分
	Client/Server,Brower/Server.
![[06 CS P2P.png]]
3. **功能组成**：通信子网、资源子网

通信子网（数据传输）——网络层、数据链路层、物理层
资源子网（数据处理）——应用层、表示层、会话层
注：传输层并不属于以上两种子网，传输层属于接口。

4. **分类**：
- 按照范围————广域网（WAN）、城域网（MAN）、局域网（LAN）、个人区域网（PAN）
- 按照使用者————公用网、专用网
- 按照交换技术————电路交换、报文交换、分组交换
- 按拓扑结构————总线型、星型、环形、网状型
- 按传输技术————广播室网络、点对点网络

## [4]  标准化工作和相关组织：
法定标准——OSI
事实标准——TCP/IP
RFC(Request for comments) 因特网标准形式，上升到因特网正式标准需要四（三）个阶段：
1. 因特尔草案
2. 建议标准
3. 因特尔标准。

## [5] 速率相关等性能指标：
- **速率（数据率）**：
	连接在计算机网络上的主机在数字信道上传送数据位数的速率。基本单位：b/s。
- **带宽**：
最高数据率，表示物理极限，是发送数据的速率。

> 带宽的本意是某个信号具有的频带宽度，即最高频率与最低频率之差，单位是赫兹。

例如：传统通信线路传播电话信号带宽3.1Hz。

- **吞吐量**：
 单位时间通告某个网络（信道、端口）数据量，表示实际的数据传输。

## [6] 时延、时延带宽积、往返时间RTT和利用率：
- **时延**：网络链路传播从一端到另一端的时间。
包括：**发送时延**+**传播时延**+**排队时延**+**处理时延**。*一般仅仅考虑前两个时延*
![[07 时延.png]]
- **发送时延**，又成为传输时延。
$$发送时延=\frac{数据长度}{信道带宽(发送速度)}$$
- **传播时延**，取决于电磁波传播速度
$$发送时延=\frac{信道长度}{电磁波在信道上的传播速率}$$
- 排队时延和处理时延指在路由器端
$$时延带宽积=传播时延×带宽$$
- 时延带宽积，实际上又称为以比特为单位的链路长度。即“**该链路上现在存在多少比特**”。
![[08 时延带宽积.png]] 
- **RTT**（Round-Trip Time）往返时延：发送数据开始，到发送方收到接收方确认为止的时延。
$$RTT=2*传播时延$$
**RTT**越大，在收到确认之前，可以发送的数据越多。
- 利用率——信道利用率+网络利用率，
**信道利用率** 
$$信道利用率 ==\frac{有数据通过时间}{（有+无）数据通过时间}$$

网络利用率 = 信道利用率加权平均值。
![[09 信道利用率.png]]
## [7] 分层结构、协议、端口、服务：
分层保证各自独立，界面清晰，标准化结构。
- **实体**---------第n层中的活动元素；
- **协议**---------为进行网络中的<u>对等实体</u>数据交换而简历的规则、标准或约定。（包含：语法、语义、同步）
- **接口**---------访问服务点 SAP，Service Accessing point，上层使用下层服务的入口。
- **服务**---------垂直方向，下层为上层提供服务。
- **协议数据单元**（PDU）:对等层次之间传输的数据包。

| 层  | 数据单位 |     |
| --- | -------- | --- |
|应用层|报文|message|
|传输层|报文段|segment|
|网络层|IP数据报、分组|datagram / packet|
|数据链路层|帧|frame|
|物理层|比特流|bit|

## [8] OSI参考模型
## OSI标准层次：
应用层、表示层、会话层、传输层、网络层、数据链路层、物理层
OSI 七层架构（物联网叔会使用）
- 通信子网（数据传输）——网络层、数据链路层、物理层
- 资源子网（数据处理）——应用层、表示层、会话层
路由器转发只有通信子网部分。
![[10 七层网络架构.png]]
**使用端到端协议**：应用层、表示层、会话层和传输层。
**使用点到点协议**：网络层、数据链路层、物理层。
TCP/IP架构：应用层、传输层、网际层、网络接口层。

1. **应用层**：用户与网络界面的层面
    典型应用层服务：
    文件传输（FTP）
    电子邮件（SMTP）
    万维网（HTTP）

2. **表示层**：处理两个通信系统中交换信息表示方式（语法和语义）
- 功能1：数据格式变换
- 功能2：数据加密解密
- 功能3：数据压缩和恢复
    主要协议：
    JPEG、ASCII

3. **会话层**：向表示层实体、用户进程提供建立连接并在连接上有序传输数据
- 功能1：建立、管理、终止会话
- 功能2：在同步点，恢复通信
    主要协议：
    ADSP、ASP
  
4. **传输层**：负责**端到端**的通信。传输单位是报文段或用户数据报.
- 功能1：可靠传输、不可靠传输
- 功能2：差错控制
- 功能3：流量控制
- 功能4：复用分用
    （复用：多个应用层课同时使用下面传输层的服务）
    主要协议：TCP、UDP

5. **网络层**：把分组从原端传到目的端。
- 功能1：路由选择
- 功能2：流量控制
- 功能3：差错控制
- 功能4：拥塞控制
    主要协议：IP、IPX、ICMP、
    IGMP、ARP、RARP、OSPF

6. **数据链路层**：把网络层传下来的数据报组装成帧
- 功能1：成帧
- 功能2：差错控制
- 功能3：流量控制
- 功能4：访问（接入）控制
    主要协议：
    SDLC、HDLC、PPP、STP

7. **物理层**：在物理媒体上实现比特流的透明传输
透明传输——指不管在所处数据是什么样的比特组合，都应当在链路上传送。
- 功能1：定义接口特征
- 功能2：定义传输模式（单工、半双工、双工）
- 功能3：定义传输速率
- 功能4：比特同步
    主要协议：
    Rj45、802.3
![[11 七层网络架构.png]]
## [9] TCP/IP参考模型
![[12 五层网络架构.png]]
**TCP/IP协议伟大的一点在于：IP协议可以为各种网络应用提供服务（Everything over IP），同时，使用IP协议互联不同的网络接口（IP over Everything）。**

TCP/IP与OSI模型不同点：
- OSI定义三点：服务、协议、接口
- OSI先出现，参考模型先于协议
- TCP/IP设计考虑易构网互联问题，将IP作为重要层次
- 在网络层和传输层连接方式不同

|    | OSI架构 | TCP/IP架构 |
|------| ------- | ---------- |
| 网络层| 无连接+面向连接     |无连接|
|传输层|面向连接|无连接+面向连接|

**面向连接**——三阶段，1 建立，发出请求；2 连接成功，传输；3 释放
**无连接**——直接传输，没有请求
![[13 五层网络架构.png]]
**计算机网络体系结构分层必要性**
- 应用层：解决通过**应用进程**的交互来实现特定网络应用的问题；
- 运输层：解决**进程与进程之间**基于网络的通信问题；
- 网络层：解决**分组**在多个网络上传输（路由）的问题；
- 数据链路层：解决分组在**同一个网络**（或一段链路）上传输问题；
- 物理层：解决使用何种信号来传输比特问题。

![[14 PDU.png]]